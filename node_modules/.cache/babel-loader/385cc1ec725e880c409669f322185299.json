{"ast":null,"code":"var _jsxFileName = \"/Users/stephenfinegan/Documents/FullStackOpen/React/part2/phonebook/finalcarepofolder/finalcarepo/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Numbers = ({\n  person\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Numbers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: person.map(name => /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [name.name, \" \", name.number]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 29\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 3\n  }, this);\n};\n\n_c = Numbers;\n\nconst Filter = ({\n  value,\n  onChange\n}) => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"contact-form\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        value: value,\n        onChange: onChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 3\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 3\n    }, this)\n  }, void 0, false);\n};\n\n_c2 = Filter;\n\nconst Form = ({\n  onClick,\n  personName,\n  number,\n  numberChange,\n  onChange\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"contact-form\",\n      onSubmit: onClick,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: personName,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: number,\n          onChange: numberChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n\n_c3 = Form;\n\nconst App = () => {\n  _s();\n\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filterValue, setNewFilter] = useState('');\n  const [showAll, setShowAll] = useState(true);\n  const peopleToShow = showAll ? persons : persons.filter(person => person.name.includes(filterValue));\n\n  const addPerson = event => {\n    event.preventDefault();\n    let newPerson = {\n      name: newName,\n      number: newNumber\n    };\n    let test = persons.some(e => e.name === newName);\n    test ? alert(`${newName} already exists `) : setPersons(persons.concat(newPerson));\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const changeValue = event => {\n    setNewName(event.target.value);\n  };\n\n  const changeNumberValue = event => {\n    setNewNumber(event.target.value);\n  };\n\n  const filterSearch = event => {\n    //console.log(persons.filter(person => person.name === filterValue))\n    setNewFilter(event.target.value);\n    setShowAll(false);\n  };\n\n  useEffect(() => {\n    console.log('effect');\n    axios.get('http://localhost:3001/persons').then(response => {\n      console.log('promise fulfilled');\n      setPersons(response.data);\n    });\n  }, []);\n  console.log('render', persons.length, 'people');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Filter, {\n      value: filterValue,\n      onChange: filterSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onClick: addPerson,\n      personName: newName,\n      onChange: changeValue,\n      number: newNumber,\n      numberChange: changeNumberValue\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Numbers, {\n      person: peopleToShow\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"9KHgtHLf4/e4rERX7K0JFxjH9hw=\");\n\n_c4 = App;\nexport default App;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Numbers\");\n$RefreshReg$(_c2, \"Filter\");\n$RefreshReg$(_c3, \"Form\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"sources":["/Users/stephenfinegan/Documents/FullStackOpen/React/part2/phonebook/finalcarepofolder/finalcarepo/src/App.js"],"names":["React","useState","useEffect","axios","Numbers","person","map","name","number","Filter","value","onChange","Form","onClick","personName","numberChange","App","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filterValue","setNewFilter","showAll","setShowAll","peopleToShow","filter","includes","addPerson","event","preventDefault","newPerson","test","some","e","alert","concat","changeValue","target","changeNumberValue","filterSearch","console","log","get","then","response","data","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\n\n\n\n\nconst Numbers = ({ person }) =>{\n  return (\n  <div>\n    <h2>Numbers</h2>\n      <div>\n        {person.map(name => <p>{name.name} {name.number}</p>)}\n      </div>\n  </div>\n  )\n}\n\nconst Filter = ({ value, onChange }) => {\n  return(\n  <>\n  <form  className =\"contact-form\" >\n  <input value={value} onChange={onChange}/>\n  </form>\n  </>\n  )\n}\n\nconst Form = ({onClick, personName, number, numberChange, onChange}) => {\n  return(\n    <div>\n      <form  className =\"contact-form\" onSubmit={onClick}>\n        <div>\n          <p>Name</p>\n           <input value={personName} onChange={onChange} />\n        </div>\n        <div>\n        <p>Number</p>\n        <input value={number} onChange={numberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n  </div>\n  )\n}\n\n\n\n\nconst App = () => {\n\n\n  \n  \n  const [ persons, setPersons ] = useState([]) \n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber ] = useState('')\n    const [ filterValue, setNewFilter ] = useState('')\n    const [ showAll, setShowAll ] = useState(true)\n    const peopleToShow = showAll ? persons : persons.filter(person => person.name.includes(filterValue));\n\n  \n  const addPerson = (event) =>{\n  event.preventDefault()\n    let newPerson = {\n      name:newName,\n      number:newNumber\n    }\n\n  let test = persons.some(e => e.name === newName);\n  test ? alert( `${newName} already exists `) : setPersons(persons.concat(newPerson))\n  \n  setNewName(\"\")\n  setNewNumber(\"\")\n  }\n\n  const changeValue = (event) =>{\n    setNewName(event.target.value)\n  }\n\n  const changeNumberValue = (event) =>{\n    setNewNumber(event.target.value)\n  }\n\n\n  const filterSearch = (event) =>{\n    //console.log(persons.filter(person => person.name === filterValue))\n    setNewFilter(event.target.value)\n    setShowAll(false)\n\n    \n  }\n\n  useEffect(() => {\n    console.log('effect')\n    axios\n      .get('http://localhost:3001/persons')\n      .then(response => {\n        console.log('promise fulfilled')\n        setPersons(response.data)\n      })\n  }, [])\n  console.log('render', persons.length, 'people')\n\n  \n\n  \n\n  \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter value={filterValue} onChange={filterSearch}/>\n      <Form onClick = {addPerson} \n            personName ={newName} \n            onChange={changeValue}\n            number = {newNumber}\n            numberChange = {changeNumberValue} />\n      <Numbers person = {peopleToShow}/> \n    </div>\n  )\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}